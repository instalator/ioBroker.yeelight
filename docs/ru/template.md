## Пример работы со сценами освещения для Yeelight LED Ceiling Light YLXD01YL
Сцены освещения задаются через flow_params

### flow_params состоит из трех частей:  
**count**
Общее количество изменений состояния лампы (итераций) до остановки сценария. Если count равно 0, то сценарий будет выполняться бесконечно.
**action**
Действие после завершения (остановки) сценария. 0 - лампа вернется в состояние, которое было перед запуском сценария. 1 - лампа останется в состоянии, на котором завершился сценарий. 2 - лампа выключится.
**flow_expression**
Непосредственно сама последовательность команд для изменения состояния лампы.  

Пример flow_params:  
`4,2,1000,2,2700,100,500,1,255,10,5000,7,0,0,500,2,5000,1`  

### **flow_expression** состоит из 4-х элементов:  
_duration, mode, value, brightness_ (длительность, режим, величина, яркость).   
Цветовой сценарий - это и есть последовательность таких серий смены состояния лампы. 
Для примера выше получаем такую последовательность: 
изменить цветовую температуру на 2700К и поднять яркость на 100% в течение 1000 мс, затем изменить цвет на красный и уменьшить яркость до 10% в течение 500мс, затем оставаться в этом состоянии 5 секунд, затем изменить цветовую температуру на 5000К и уменьшить яркость до 1% в течение 500 мс. 
По окончанию 4-х итераций цветовой сценарий останавливается, а лампа выключается.

##### duration
Длительность постепенного изменения или паузы (сна) в миллисекундах. Минимальное значение 50 мс.
##### mode
Режим. 1 - цвет, 2 - цветовая температура, 7 - пауза (сон).
##### value
Величина. В режиме 1 - это RGB-цвет в десятичном формате, в режиме 2 - цветовая температура в Кельвинах, в режиме 7 значение игнорируется.
##### brightness
Яркость. Принимаемые значения от 1 до 100 и -1. В режиме 7 значение яркости игнорируется. Если значение равно -1, то яркость игнорируется и не изменяется (будут меняться только цвет или цветовая температура).

## Примеры цветовых сценариев:
**Луна**  
`0,0,50,2,3700,80`  
температура в кельвинах 3700 яркость 80

**Мигалка**  
`8,0,1000,2,4000,50,1000,2,4000,1`

**Рассвет**  
`2,1,50,2,4000,1,900000,2,4000,100`

**Закат**  
`2,2,50,2,4000,75,900000,2,4000,1`

**Диско**  
`50,0,50,2,5000,100,50,2,5000,1`

**Мерцание свечи**  
`0,0,800,2,4000,50,800,2,4000,30,1200,2,4000,80,
800,2,4000,60,1200,2,4000,90,2400,2,4000,50,
1200,2,4000,80,800,2,4000,60,400,2,4000,70`

